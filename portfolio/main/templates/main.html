{% extends 'base.html' %}

{% load static %}

{% block content %}

<div class="main-container">
    {% if portfolio_data %}

        <div class="name">
            {{ portfolio_data.profil.nom }}
            {{ portfolio_data.profil.prenom }}
        </div>

        <div class="titre">
            {{ portfolio_data.profil.titre }}
        </div>

        <div class="description">
            {{ portfolio_data.profil.description }}
        </div>

        <div class="competences">
            <div class="title-h2">COMPETENCES</div>
            <div>
                {% for competence in portfolio_data.competences %}
                    <span class="competence-name">{{ competence }}<br></span>
                {% endfor %}
            </div>
        </div>

        <div class="projets">
                {% for repo in repos %}
                    {% if repo.description %}
                        <div class="repo-container">
                            <div>
                                <i class="fa-solid fa-folder-open" style="color: #0366d6;"></i>
                                <a class="repo-title" href="{{ repo.html_url }}" target="_blank">{{ repo.name }}</a>
                            </div>
                            <p>{{ repo.description }}</p>
                            <p class="repo-updated">Updeated on {{ repo.updated_at|date:"M Y" }}</p>
                            {% for topic in repo.topics %}
                                <span class="topic">{{ topic }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% endfor %}
        </div>

        <div class="formations-container">
            <div class="formations">
                {% for formation in portfolio_data.formations %}
                    <div class="formation">
                        <div class="formation-name">{{ formation.nom }}</div>
                        <div>
                            {{ formation.debut }}
                            {{ formation.fin }}
                            {{ formation.ecole }}<br>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="title-h2">FORMATIONS</div>
        </div>

        <div class="experiences-container">
            {% for experience in portfolio_data.experiences %}
                <div class="experience">
                    <div class="experience-title">{{ experience.poste }}</div>
                    <div class="repo-updated">
                        {{ experience.entreprise }} - {{ experience.debut }} à {{ experience.fin }}
                    </div>
                    <p>{{ experience.responsabilites }}</p>
                    <!-- Affichage des topics de compétences -->
                    {% for topic in experience.competences %}
                        <div class="topic">{{ topic }}</div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>


        <span class="soft-skills">
            <ul>
                {% for skill in portfolio_data.softskills %}
                    <li>
                        {{ skill }}
                    </li>
                {% endfor %}
            </ul>
        </span>

        <span class="interets">
            <ul>
                {% for interet in portfolio_data.interets %}
                    <li>
                        {{ interet }}
                    </li>
                {% endfor %}
            </ul>
        </span>

        <span class="contact">
            {{ portfolio_data.contact.telephone }}
            {{ portfolio_data.contact.email }}
            {{ portfolio_data.contact.linkedin }}
            {{ portfolio_data.contact.github }}
        </span>

    {% endif %}
</div>

{% endblock content %}

{% block extra_js %}
<script>

</script>
{% endblock %}